{"ast":null,"code":"var _jsxFileName = \"/Users/dkothandapani/Downloads/movie-app-react-typescript/src/components/Search/Search.tsx\";\nimport * as React from \"react\";\nimport { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as actionCreators from \"../../store/actions/globalActions\";\nimport { ErrorMessage, Page, PageTitle, SearchBar, SearchBarContainer, SearchResults } from \"../../styling/StyledComponents\";\nimport { Search as SearchIcon } from \"@material-ui/icons\";\nimport ResultsTable from \"../MovieSummariesTable/ResultsTable\";\nimport { TablePagination } from \"@material-ui/core\";\nimport { pageIconColor } from \"../../styling/mainTheme\";\n\nclass Search extends Component {\n  componentDidMount() {\n    this.props.all_movies();\n  }\n\n  componentWillUnmount() {\n    this.props.clear_search_state();\n  }\n\n  render() {\n    if (!this.state.data) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 20\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(Page, {\n      \"data-testid\": \"search-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(PageTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, \"Movies\"), /*#__PURE__*/React.createElement(SearchBarContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(SearchIcon, {\n      style: {\n        color: `${pageIconColor}`,\n        fontSize: 60\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(SearchBar, {\n      variant: \"outlined\",\n      type: \"search\",\n      onChange: e => this.props.search_movies(e.target.value),\n      label: \"Search by Title, Genre, Director, or Writer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    })), this.props.resultsTotal > 0 && /*#__PURE__*/React.createElement(SearchResults, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ResultsTable, {\n      value: \"search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(TablePagination, {\n      rowsPerPageOptions: [5, 10, 25, 50],\n      component: \"div\",\n      count: this.props.resultsTotal,\n      rowsPerPage: this.props.rowsPerPage,\n      page: this.props.currentPage,\n      onChangePage: (e, newPage) => this.props.change_page(e, newPage),\n      onChangeRowsPerPage: e => this.props.change_rows_per_page(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    })), this.props.resultsTotal === 0 && /*#__PURE__*/React.createElement(ErrorMessage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, this.props.errorMessage));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    searchTerm: state.searchTerm,\n    movieSummaries: state.movieSummaries,\n    searchResultsTotal: state.searchResultsTotal,\n    currentPage: state.currentPage,\n    rowsPerPage: state.rowsPerPage,\n    resultsTotal: state.searchResultsTotal,\n    errorMessage: state.errorMessage\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    change_page: (event, newPage) => dispatch(actionCreators.changePage(event, newPage)),\n    search_movies: searchTerm => dispatch(actionCreators.searchMovies(searchTerm)),\n    all_movies: () => dispatch(actionCreators.allMovies()),\n    change_rows_per_page: event => dispatch(actionCreators.changeRowsPerPage(event)),\n    on_request_sort: (event, property) => dispatch(actionCreators.sortByTitleOrRating(event, property)),\n    clear_search_state: () => dispatch(actionCreators.resetState())\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);","map":{"version":3,"sources":["/Users/dkothandapani/Downloads/movie-app-react-typescript/src/components/Search/Search.tsx"],"names":["React","Component","connect","actionCreators","ErrorMessage","Page","PageTitle","SearchBar","SearchBarContainer","SearchResults","Search","SearchIcon","ResultsTable","TablePagination","pageIconColor","componentDidMount","props","all_movies","componentWillUnmount","clear_search_state","render","state","data","color","fontSize","e","search_movies","target","value","resultsTotal","rowsPerPage","currentPage","newPage","change_page","change_rows_per_page","errorMessage","mapStateToProps","searchTerm","movieSummaries","searchResultsTotal","mapDispatchToProps","dispatch","event","changePage","searchMovies","allMovies","changeRowsPerPage","on_request_sort","property","sortByTitleOrRating","resetState"],"mappings":"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","sourcesContent":["import * as React from \"react\"\nimport {Component} from \"react\"\nimport {connect} from \"react-redux\"\n\nimport * as actionCreators from \"../../store/actions/globalActions\"\nimport {\n    ErrorMessage,\n    Page,\n    PageTitle,\n    SearchBar,\n    SearchBarContainer,\n    SearchResults\n} from \"../../styling/StyledComponents\";\nimport {Search as SearchIcon} from \"@material-ui/icons\"\nimport ResultsTable from \"../MovieSummariesTable/ResultsTable\";\nimport {TablePagination} from \"@material-ui/core\";\nimport {pageIconColor} from \"../../styling/mainTheme\";\n\ninterface SearchProps {\n    search_movies: (searchTerm: string) => void,\n    movieSummaries: [],\n    currentPage: number,\n    resultsTotal: number,\n    change_page: (event: any, newPage: number) => void,\n    all_movies: () => void,\n    change_rows_per_page: (event: any) => void,\n    on_request_sort: (event:any, property:any) => void,\n    clear_search_state: () => void,\n    rowsPerPage: number,\n    errorMessage: string\n}\n\ninterface SearchState {\n    searchTerm: string\n    movieSummaries: []\n}\n\nclass Search extends Component<SearchProps, SearchState> {\n    componentDidMount(): void {\n        this.props.all_movies()\n    }\n\n    componentWillUnmount(): void {\n        this.props.clear_search_state()\n    }\n\n    render() {\n\n        if (!this.state.data) {\n            return <div />\n        }\n        \n        return (\n\n            <Page data-testid=\"search-page\">\n                <PageTitle>\n                    Movies\n                </PageTitle>\n                <SearchBarContainer>\n\n                    <SearchIcon style={{color:`${pageIconColor}`, fontSize: 60}}/>\n\n                    <SearchBar\n                        variant=\"outlined\"\n                        type=\"search\"\n                        onChange={e => this.props.search_movies(e.target.value)}\n                        label=\"Search by Title, Genre, Director, or Writer\"\n                    >\n                    </SearchBar>\n                </SearchBarContainer>\n                {this.props.resultsTotal > 0 &&\n                <SearchResults>\n                    <ResultsTable value=\"search\"/>\n                    <TablePagination\n                        rowsPerPageOptions={[5, 10, 25, 50]}\n                        component=\"div\"\n                        count={this.props.resultsTotal}\n                        rowsPerPage={this.props.rowsPerPage}\n                        page={this.props.currentPage}\n                        onChangePage={(e,newPage) => this.props.change_page(e, newPage)}\n                        onChangeRowsPerPage={(e) => this.props.change_rows_per_page(e)}\n                    />\n                </SearchResults>}\n                {this.props.resultsTotal === 0 &&\n                <ErrorMessage>{this.props.errorMessage}</ErrorMessage>}\n            </Page>\n\n        )\n    }\n}\n\nfunction mapStateToProps(state: any) {\n    return {\n        searchTerm: state.searchTerm,\n        movieSummaries: state.movieSummaries,\n        searchResultsTotal: state.searchResultsTotal,\n        currentPage: state.currentPage,\n        rowsPerPage: state.rowsPerPage,\n        resultsTotal: state.searchResultsTotal,\n        errorMessage: state.errorMessage\n    }\n}\n\nfunction mapDispatchToProps(dispatch: any) {\n    return {\n        change_page: (event: any, newPage:number) => dispatch(actionCreators.changePage(event, newPage)),\n        search_movies: (searchTerm: string) => dispatch(actionCreators.searchMovies(searchTerm)),\n        all_movies: () => dispatch(actionCreators.allMovies()),\n        change_rows_per_page: (event: any) => dispatch(actionCreators.changeRowsPerPage(event)),\n        on_request_sort: (event:any, property:any) => dispatch(actionCreators.sortByTitleOrRating(event, property)),\n        clear_search_state: () => dispatch(actionCreators.resetState())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);"]},"metadata":{},"sourceType":"module"}