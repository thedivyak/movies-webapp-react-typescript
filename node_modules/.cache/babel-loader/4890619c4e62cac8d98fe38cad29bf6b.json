{"ast":null,"code":"var _jsxFileName = \"/Users/dkothandapani/Downloads/movie-app-react-typescript/src/components/Search/Search.tsx\";\nimport * as React from \"react\";\nimport { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as actionCreators from \"../../store/actions/globalActions\";\nimport { ErrorMessage, Page, PageTitle, SearchBar, SearchBarContainer, SearchResults } from \"../../styles/StyledComponents\";\nimport { Search as SearchIcon } from \"@material-ui/icons\";\nimport ResultsTable from \"../SharedComponents/ResultsTable\";\nimport { TablePagination } from \"@material-ui/core\";\nimport { iconColor } from \"../../styles/mainTheme\";\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchTerm: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.props.search_movies('');\n  }\n\n  componentWillUnmount() {\n    this.props.clear_search_state();\n  }\n\n  render() {\n    if (this.props.apiError) {\n      return /*#__PURE__*/React.createElement(ErrorMessage, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 20\n        }\n      }, this.props.errorMessage);\n    }\n\n    return /*#__PURE__*/React.createElement(Page, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(PageTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }, \"Movies\"), /*#__PURE__*/React.createElement(SearchBarContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(SearchIcon, {\n      style: {\n        color: `${iconColor}`,\n        fontSize: 50\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(SearchBar, {\n      variant: \"outlined\",\n      type: \"search\",\n      label: \"Search by Title, Genre, Director, or Writer\",\n      onChange: e => {\n        this.setState({\n          searchTerm: e.target.value\n        });\n        this.props.search_movies(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    })), this.props.resultsTotal > 0 && /*#__PURE__*/React.createElement(SearchResults, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ResultsTable, {\n      value: \"search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(TablePagination, {\n      rowsPerPageOptions: [5, 10, 25, 50],\n      component: \"div\",\n      count: this.props.resultsTotal,\n      rowsPerPage: this.props.rowsPerPage,\n      page: this.props.currentPage,\n      onChangePage: (e, newPage) => this.props.change_page(e, newPage),\n      onChangeRowsPerPage: e => this.props.change_rows_per_page(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    })), this.props.resultsTotal === 0 && this.state.searchTerm !== \"\" && /*#__PURE__*/React.createElement(ErrorMessage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, this.props.errorMessage));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    searchTerm: state.searchTerm,\n    movieSummaries: state.movieSummaries,\n    searchResultsTotal: state.searchResultsTotal,\n    currentPage: state.currentPage,\n    rowsPerPage: state.rowsPerPage,\n    resultsTotal: state.searchResultsTotal,\n    errorMessage: state.errorMessage,\n    apiError: state.apiError\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    change_page: (event, newPage) => dispatch(actionCreators.changePage(event, newPage)),\n    search_movies: searchTerm => dispatch(actionCreators.searchMovies(searchTerm)),\n    change_rows_per_page: event => dispatch(actionCreators.changeRowsPerPage(event)),\n    on_request_sort: (event, property) => dispatch(actionCreators.sortByTitleOrRating(event, property)),\n    clear_search_state: () => dispatch(actionCreators.resetState())\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);","map":{"version":3,"sources":["/Users/dkothandapani/Downloads/movie-app-react-typescript/src/components/Search/Search.tsx"],"names":["React","Component","connect","actionCreators","ErrorMessage","Page","PageTitle","SearchBar","SearchBarContainer","SearchResults","Search","SearchIcon","ResultsTable","TablePagination","iconColor","constructor","props","state","searchTerm","componentDidMount","search_movies","componentWillUnmount","clear_search_state","render","apiError","errorMessage","color","fontSize","e","setState","target","value","resultsTotal","rowsPerPage","currentPage","newPage","change_page","change_rows_per_page","mapStateToProps","movieSummaries","searchResultsTotal","mapDispatchToProps","dispatch","event","changePage","searchMovies","changeRowsPerPage","on_request_sort","property","sortByTitleOrRating","resetState"],"mappings":"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","sourcesContent":["import * as React from \"react\"\nimport {Component} from \"react\"\nimport {connect} from \"react-redux\"\n\nimport * as actionCreators from \"../../store/actions/globalActions\"\nimport {\n    ErrorMessage,\n    Page,\n    PageTitle,\n    SearchBar,\n    SearchBarContainer,\n    SearchResults\n} from \"../../styles/StyledComponents\";\nimport {Search as SearchIcon} from \"@material-ui/icons\"\nimport ResultsTable from \"../SharedComponents/ResultsTable\";\nimport {TablePagination} from \"@material-ui/core\";\nimport {iconColor} from \"../../styles/mainTheme\";\n\ninterface SearchProps {\n    search_movies: (searchTerm: string) => void,\n    movieSummaries: [],\n    currentPage: number,\n    resultsTotal: number,\n    rowsPerPage: number,\n    change_page: (event: any, newPage: number) => void,\n    change_rows_per_page: (event: any) => void,\n    on_request_sort: (event:any, property:any) => void,\n    clear_search_state: () => void,\n    errorMessage: string,\n    apiError: boolean\n}\n\ninterface SearchState {\n    searchTerm: string\n}\n\nclass Search extends Component<SearchProps, SearchState> {\n    constructor(props: SearchProps) {\n        super(props);\n        this.state = {\n            searchTerm: \"\",\n        }\n    }\n\n    componentDidMount(): void {\n        this.props.search_movies('')\n    }\n\n    componentWillUnmount(): void {\n        this.props.clear_search_state()\n    }\n\n    render() {\n        if (this.props.apiError) {\n            return <ErrorMessage>{this.props.errorMessage}</ErrorMessage>\n        }\n        return (\n            <Page>\n                <PageTitle>Movies</PageTitle>\n                <SearchBarContainer>\n                    <SearchIcon style={{color:`${iconColor}`, fontSize: 50}}/>\n                    <SearchBar\n                        variant=\"outlined\"\n                        type=\"search\"\n                        label=\"Search by Title, Genre, Director, or Writer\"\n                        onChange={e => {\n                            this.setState(({searchTerm: e.target.value}))\n                            this.props.search_movies(e.target.value)\n                        }}\n                    >\n                    </SearchBar>\n                </SearchBarContainer>\n\n                {this.props.resultsTotal > 0 &&\n                <SearchResults>\n                    <ResultsTable value=\"search\"/>\n                    <TablePagination\n                        rowsPerPageOptions={[5, 10, 25, 50]}\n                        component=\"div\"\n                        count={this.props.resultsTotal}\n                        rowsPerPage={this.props.rowsPerPage}\n                        page={this.props.currentPage}\n                        onChangePage={(e,newPage) => this.props.change_page(e, newPage)}\n                        onChangeRowsPerPage={(e) => this.props.change_rows_per_page(e)}\n                    />\n                </SearchResults>\n                }\n\n                {(this.props.resultsTotal === 0 && this.state.searchTerm !== \"\" ) &&\n                <ErrorMessage>{this.props.errorMessage}</ErrorMessage>}\n            </Page>\n\n        )\n    }\n}\n\nfunction mapStateToProps(state: any) {\n    return {\n        searchTerm: state.searchTerm,\n        movieSummaries: state.movieSummaries,\n        searchResultsTotal: state.searchResultsTotal,\n        currentPage: state.currentPage,\n        rowsPerPage: state.rowsPerPage,\n        resultsTotal: state.searchResultsTotal,\n        errorMessage: state.errorMessage,\n        apiError: state.apiError,\n\n    }\n}\n\nfunction mapDispatchToProps(dispatch: any) {\n    return {\n        change_page: (event: any, newPage:number) => dispatch(actionCreators.changePage(event, newPage)),\n        search_movies: (searchTerm: string) => dispatch(actionCreators.searchMovies(searchTerm)),\n        change_rows_per_page: (event: any) => dispatch(actionCreators.changeRowsPerPage(event)),\n        on_request_sort: (event:any, property:any) => dispatch(actionCreators.sortByTitleOrRating(event, property)),\n        clear_search_state: () => dispatch(actionCreators.resetState())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);"]},"metadata":{},"sourceType":"module"}